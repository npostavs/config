[core]
	attributesfile = "~/.config/git/attributes"
	# Drop CRs before committing, probably a good default most of the time.
	autocrlf = input
[transfer]
    fsckObjects = true
[color]
	ui = auto
[user]
	email = npostavs@users.sourceforge.net
	name = Noam Postavsky\n
	signingkey = npostavs
[sendemail]
	smtpEncryption = tls
	smtpServer = smtp.gmail.com
	smtpUser = npostavs@gmail.com
	smtpServerPort = 587
[github]
    user = npostavs
[magit]
    upstream = upstream
[forge]
    remote = upstream
[alias]
	co = checkout
	ci = commit
	graph = log --oneline --graph --decorate
	mkpatch = difftool --no-prompt --extcmd 'diff -u --label old/$BASE --label new/$BASE'
    debbugs = ! ~/.config/git/extract-bugnum.sh
    serve = daemon --verbose --export-all --enable=receive-pack --base-path=.git \
          --reuseaddr --listen=127.0.0.1 --strict-paths .git/
[push]
	# A plain 'git push' fails, require a destination.
	default = nothing
[rerere]
	enabled = true
[merge]
	conflictstyle = diff3
	branchdesc = true
[branch]
    # Automatically set upstream to start of new branch.
    autoSetupMerge = always
[gc]
	# default is 60 days, but better not to throw out human work too
	# quickly
	rerereresolved = 365
    # Running gc probably not worthwhile, unless developing Linux kernel...
    auto = 0
[diff]
	mnemonicprefix = true
    submodule = short
# lisp diff headers should be lines starting with parens
[diff "lisp"]
	xfuncname = "^\\(.*$"
[diff "elisp"]
	xfuncname = "^\\(.*$"
[diff "c"]
	# static void func(args)
	# func (args) // return type on previous line
	# DEFUN ("func", ...) // Emacs macro
	xfuncname = "^(([a-zA-Z0-9_]+ ?){1,2}[()].*)"
[diff "org"]
	# org headers start with stars
	xfuncname = "^ *[*]+.*$"
